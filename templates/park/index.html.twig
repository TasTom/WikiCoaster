{% extends 'base.html.twig' %}

{% block title %}Liste des Parcs{% endblock %}

{% block body %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">üèûÔ∏è Parcs</h1>
    {% if is_granted('ROLE_USER') %}
        <a href="{{ path('app_park_new') }}" class="btn btn-primary">
            Ajouter un parc
        </a>
    {% endif %}
</div>

<div class="overflow-x-auto">
    <table class="table table-zebra w-full">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Pays</th>
                <th>Ann√©e d'ouverture</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for park in parks %}
                <tr>
                    <td class="font-bold">{{ park.name }}</td>
                    <td>{{ park.country }}</td>
                    <td>{{ park.openingYear ?? '-' }}</td>
                    <td>
                        <div class="flex gap-2">
                            <a href="{{ path('app_park_show', {id: park.id}) }}" class="btn btn-sm btn-info">
                                Voir
                            </a>
                            {% if is_granted('ROLE_USER') %}
                                <a href="{{ path('app_park_edit', {id: park.id}) }}" class="btn btn-sm btn-warning">
                                    Modifier
                                </a>
                                <form method="post" action="{{ path('app_park_delete', {id: park.id}) }}" onsubmit="return confirm('√ätes-vous s√ªr de vouloir supprimer ce parc ?');" class="inline">
                                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ park.id) }}">
                                    <button type="submit" class="btn btn-sm btn-error">Supprimer</button>
                                </form>
                            {% endif %}
                        </div>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="4" class="text-center text-gray-500">
                        Aucun parc trouv√©
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
